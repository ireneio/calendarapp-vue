(function(e){function t(t){for(var a,r,c=t[0],u=t[1],i=t[2],l=0,d=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);f&&f(t);while(d.length)d.shift()();return s.push.apply(s,i||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(a=!1)}a&&(s.splice(t--,1),e=u(u.s=n[0]))}return e}var a={},r={app:0},o={app:0},s=[];function c(e){return u.p+"js/"+({calendar:"calendar",day:"day",home:"home",main:"main",week:"week"}[e]||e)+"."+{calendar:"b82e900d",day:"74095c72",home:"510ed9c5",main:"2ffa1292",week:"63b029fb"}[e]+".js"}function u(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={calendar:1,home:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({calendar:"calendar",day:"day",home:"home",main:"main",week:"week"}[e]||e)+"."+{calendar:"5112814a",day:"31d6cfe0",home:"337efde3",main:"31d6cfe0",week:"31d6cfe0"}[e]+".css",o=u.p+a,s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var i=s[c],l=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(l===a||l===o))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){i=d[c],l=i.getAttribute("data-href");if(l===a||l===o)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var a=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete r[e],f.parentNode.removeChild(f),n(s)},f.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){r[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var s=new Promise((function(t,n){a=o[e]=[t,n]}));t.push(a[2]=s);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=c(e);var d=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}o[e]=void 0}};var f=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},u.m=e,u.c=a,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)u.d(n,a,function(t){return e[t]}.bind(null,a));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/calendarapp-vue/",u.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var f=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],s=n("5530"),c={methods:{zellerCongruence:function(e,t,n){1!==t&&2!==t||(t+=12,e-=1);var a=Math.floor(e/100),r=e%100,o=t,s=n,c=0;return c=r+Math.floor(r/4)+Math.floor(a/4)-2*a+Math.floor(26*(o+1)/10)+s-1,c<0?c=(14&c)%7:c%=7,c},countDaysInMonth:function(e,t){return/3|5|8|10/.test(t-1)?30:t-1===1?(e%4||!(e%100))&&e%400?28:29:31},produceDates:function(){for(var e,t=[],n=42,a=1900;a<=2100;a++){e={},e.year=a;for(var r=1;r<=12;r++){var o=this.countDaysInMonth(a,r),c=Object(s["a"])({},e);c.month=r,c.days=[];for(var u=1;u<=o;u++){c.days.push({day:u,month:r,year:a});var i=this.zellerCongruence(a,r,u);1===u&&(c.startDate=i)}if(0!==c.startDate)for(var l=this.countDaysInMonth(a,r-1),d=l,f=0;f<c.startDate;f++)c.days.unshift({day:d,month:r-1,year:r-1===12?a-1:a}),d--;for(var p=n-c.days.length,h=1;h<p+1;h++)c.days.push({day:h,month:r+1,year:r+1===1?a+1:a});t.push(c)}}return localStorage.setItem("dates",JSON.stringify(t)),t}},mounted:function(){var e=localStorage.getItem("dates")?JSON.parse(localStorage.getItem("dates")):this.produceDates();this.$store.commit("setDates",e)}},u=c,i=(n("5c0b"),n("2877")),l=Object(i["a"])(u,r,o,!1,null,null,null),d=l.exports,f=(n("b0c0"),n("d3b7"),n("8c4f")),p=(n("99af"),n("7db0"),n("c740"),n("fb6a"),n("2909")),h=n("2f62"),m=n("bc3a"),g=n.n(m);a["a"].use(h["a"]);var v=new h["a"].Store({strict:!1,state:{now:new Date,dates:[],isLoggedIn:!1,displayName:null,userId:null,events:[]},getters:{getNowYear:function(e){return e.now.getFullYear()},getNowMonth:function(e){return e.now.getMonth()+1},getNowMonthDates:function(e,t){return e.dates.find((function(e){return e.month===t.getNowMonth&&e.year===t.getNowYear})).days},getNowDayOfWeek:function(e){return e.now.getDay()},getNowDay:function(e){return e.now.getDate()},getNowWeek:function(e,t){var n=7,a=t.getNowDayOfWeek,r=n-a,o=n-r,s=t.getNowMonthDates.findIndex((function(e){return e.day===t.getNowDay&&e.month===t.getNowMonth}));return t.getNowMonthDates.slice(s-o,s+r)}},mutations:{setNowDate:function(e,t){e.now=new Date(t)},setDates:function(e,t){e.dates=t},setLogin:function(e,t){e.isLoggedIn=t},setDisplayName:function(e,t){e.displayName=t},setUserId:function(e,t){e.userId=t},setEvents:function(e,t){e.events=t}},actions:{updateLoginStatus:function(e,t){var n=e.commit,a=t.status,r=t.displayName,o=t.accessToken,s=t.userId;localStorage.setItem("token",o),localStorage.setItem("userId",s),n("setLogin",a),n("setDisplayName",r||null),n("setUserId",s||null)},GET_events:function(e){var t=e.commit,n=e.state;return g.a.get("".concat("https://glacial-fortress-89595.herokuapp.com","/events/").concat(n.userId)).then((function(e){t("setEvents",e.data.events)}))},UPDATE_events:function(e,t){var n=e.commit,a=e.state;return g.a.post("".concat("https://glacial-fortress-89595.herokuapp.com","/events/").concat(a.userId),{event:t}).then((function(e){n("setEvents",[].concat(Object(p["a"])(a.events),[t]))}))}},modules:{}});a["a"].use(f["a"]);var y=[{path:"/",name:"Home",component:function(){return n.e("home").then(n.bind(null,"bb51"))}},{path:"/calendar",name:"calendar",component:function(){return n.e("calendar").then(n.bind(null,"ac0f"))}},{path:"/main",name:"main",component:function(){return n.e("main").then(n.bind(null,"cd56"))},children:[{path:"week",name:"week",component:function(){return n.e("week").then(n.bind(null,"d968"))}},{path:"day",name:"day",component:function(){return n.e("day").then(n.bind(null,"84f7"))}},{path:"*",redirect:"/"}]}],w=new f["a"]({routes:y});w.beforeEach((function(e,t,n){var a=localStorage.getItem("token");function r(e,t){g.a.post("".concat("https://glacial-fortress-89595.herokuapp.com","/users/verify"),{accessToken:e,refreshToken:t}).then((function(e){var t=e.data,a=t.accessToken,r=t.displayName,o=t.userId;v.dispatch("updateLoginStatus",{status:!0,accessToken:a,displayName:r,userId:o}),n()})).catch((function(e){var t=e.response,a=t.status,o=t.data.accessToken;401===a?r(o):(v.dispatch("updateLoginStatus",{status:!1,accessToken:"",displayName:null,userId:null}),n(!1))}))}"Home"===e.name&&(v.state.isLoggedIn?n(!1):n()),r(a)}));var b=w,k=(n("4989"),n("ecee")),N=n("b702"),D=n("c074"),I=n("ad3d");k["c"].add(N["a"],D["c"],D["a"],D["b"]),a["a"].component("fa",I["a"]),a["a"].config.productionTip=!1,new a["a"]({router:b,store:v,render:function(e){return e(d)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var a=n("9c0c"),r=n.n(a);r.a},"9c0c":function(e,t,n){}});
//# sourceMappingURL=app.f209d1ae.js.map